<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>最佳编程实践 | Magento 2 Developer Documentation</title>
	<meta name="description" content="Magento 2 Developer Documentation.
">

	<link rel="stylesheet" href="/assets/css/app.css" />
	<link rel="stylesheet" href="/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/common/css/devdocs.css" />

	<script>
  var baseUrl = "";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };
</script>




	<link rel="canonical" href="http://localhost:4000/guides/v2.1/ext-best-practices/extension-coding/common-programming-bp.html">

	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <a id="menu-btn" class="menu-trigger menu-icon" href="#nav-main" aria-haspopup="true" aria-controls="nav-main"></a>
  </div>

  <div class="nav-container">

    <a class="logo" href="/guides/v2.1/">
      <img src="/assets/i/m-logo.svg" alt=""><img src="/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      
<div class="version-switcher dropdown" data-version="2.1">
	<button id="version-switcher-button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Magento 2.1
	</button>

	<ul class="dropdown-menu dropdown-menu-left" aria-labelledby="version-switcher-button">
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.0/ext-best-practices/extension-coding/common-programming-bp.html">Magento 2.0</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.1/ext-best-practices/extension-coding/common-programming-bp.html">Magento 2.1</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.2/ext-best-practices/extension-coding/common-programming-bp.html">Magento 2.2</a></li>
	
		<li><a class="dropdown-item" data-proofer-ignore href="/guides/v2.3/ext-best-practices/extension-coding/common-programming-bp.html">Magento 2.3 Pre-release</a></li>
	
  </ul>

</div>


      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">部署</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          <li><a href="/guides/v2.1/install-gde/bk-install-guide.html">安装向导</a></li>
          
          <li><a href="/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">组件管理和系统升级手册</a></li>
          
          <li><a href="/guides/v2.1/config-guide/bk-config-guide.html">配置手册</a></li>
          
          <li><a href="/guides/v2.1/migration/bk-migration-guide.html">迁移指引</a></li>
          <li><a href="/guides/v2.1/cloud/bk-cloud.html">上云指引</a></li>
          <li><a href="/magento-release-information.html">版本日志</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">开发</span>

    <div class="nav-popup" role="menu" aria-hidden="true">

      <div class="nav-section">
        <div class="nav-section-title">服务端</div>
        <ul>
          <li><a href="/guides/v2.1/architecture/bk-architecture.html">架构说明</a></li>
          <li><a href="/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP开发文档</a></li>
          <li><a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">扩展开发实践</a></li>
          <li><a href="/guides/v2.1/mrg/intro.html">各模块介绍</a></li>
          <li><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">编码规范</a></li>
          <li><a href="/guides/v2.1/contributor-guide/contributing.html">贡献指引</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">前端</div>
        <ul>
          <li class=""><a href="/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">前端工程师手册</a></li>
          
          <li><a href="/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI组件手册</a></li>
          
          <li><a href="/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript开发手册</a></li>
          <li><a href="/guides/v2.1/pattern-library/bk-pattern.html">管理面板设计模式及所用库</a></li>
          <li><a href="/guides/v2.1/design-styleguide/bk-styleguide.html">管理面板样式手册</a></li>
          <li><a href="https://magento-research.github.io/pwa-devdocs/">PWA Studios</a></li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="nav-section-title"><abbr>API</abbr></div>
        <ul>
          <li><a href="/guides/v2.1/get-started/bk-get-started-api.html">Web APIs起步</a></li>
          <li><a href="/guides/v2.1/rest/bk-rest.html">REST API参考</a></li>
          <li><a href="/guides/v2.1/soap/bk-soap.html">SOAP API参考</a></li>
          
          
          <li><a href="/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li>
          
        </ul>
      </div>
    </div>

  </li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">测试</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/test/testing.html">Magento测试手册</a></li>
        
        <li><a href="/guides/v2.1/mtf/mtf_introduction.html">功能测试</a></li>
        <li><a href="/guides/v2.1/test/integration/integration_test_execution.html">集成测试</a></li>
        <li><a href="/guides/v2.1/test/js/jasmine.html">JavaScript单元测试</a></li>
        <li><a href="/guides/v2.1/test/unit/unit_test_execution.html">PHP单元测试</a></li>
        <li><a href="/guides/v2.1/get-started/web-api-functional-testing.html">Web API功能测试</a></li>
      </ul>
    </div>

  </li>


  <li class="nav-main-separator"></li>


  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">功能文档</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
          
        
        <li><a href="/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li>
        <li><a href="/guides/v2.1/payments-integrations/bk-payments-integrations.html">支付集成</a></li>
        
          <li><a href="/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li>
        
      </ul>
    </div>

  </li>


  <li class="nav-main-item"  tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">指引</span>

    <div class="nav-popup" role="menu" aria-hidden="true">
      <ul>
        <li><a href="/guides/v2.1/howdoi/bk-how-do-i.html">如何</a></li>
        
        <li><a  data-proofer-ignore href="/guides/v2.1/get-started/order-tutorial/order-intro.html">使用EST APIs处理订单</a></li>
        

        <li><a href="/videos/">视频教程</a></li>
      </ul>
    </div>

  </li>

</ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <a class="search-trigger search-icon" href="#"></a>
    </div>

    <form class="quick-search" action="/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <a href="#" class="quick-search-close">&times;</a>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<a href="#" data-proofer-ignore class="toc-toggler">内容表格</a>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Extension Best Practices</h4>
		<div class="collapsible-navigation">
		    <ul>
		    
		    	

<li class="nav-level1  " id="介绍">
    

    
    <a href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">介绍</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="admin">
    

    
    <a href="/guides/v2.1/ext-best-practices/admin/admin-best-practices.html">Admin</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="管理面板的定位和设计">

            

            
            <a href="/guides/v2.1/ext-best-practices/admin/placement-and-design.html">管理面板的定位和设计</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="管理面板常见问题">

            

            
            <a href="/guides/v2.1/ext-best-practices/admin/ext-best-practices_admin_FAQ.html">管理面板常见问题</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="扩展编码">
    

    
    <a href="/guides/v2.1/ext-best-practices/extension-coding/coding-best-practices.html">扩展编码</a>
    

    
    <ul>
        
        
        
        <li class="nav-level2 active " id="最佳编程实践">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/common-programming-bp.html">最佳编程实践</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="在构架下工作">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/working-with-arch-bp.html">在构架下工作</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="安装、性能及数据处理">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/security-performance-data-bp.html">安装、性能及数据处理</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="观察者最佳实践">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/observers-bp.html">观察者最佳实践</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="编码常见问题">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/coding-faq.html">编码常见问题</a>
            

            
        </li>
        
        
        
        
        <li class="nav-level2  " id="新建一个magento管理面板页面">

            

            
            <a href="/guides/v2.1/ext-best-practices/extension-coding/example-module-adminpage.html">新建一个Magento管理面板页面</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="storefront">
    

    
    <a href="/guides/v2.1/ext-best-practices/storefront/storefront-best-practices.html">Storefront</a>
    

    
</li>


		    
		    	

<li class="nav-level1  " id="security">
    

    
    <span>Security</span>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="编写安全的代码">

            

            
            <a href="/guides/v2.1/ext-best-practices/security/writing-secure-code.html">编写安全的代码</a>
            

            
        </li>
        
        
    </ul>
    
</li>


		    
		    	

<li class="nav-level1  " id="tutorials">
    

    
    <span>Tutorials</span>
    

    
    <ul>
        
        
        
        <li class="nav-level2  " id="拷贝form输入字段集">

            

            
            <a href="/guides/v2.1/ext-best-practices/tutorials/copy-fieldsets.html">拷贝form输入字段集</a>
            

            
        </li>
        
        
        
        
    </ul>
    
</li>


		    
		    </ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

  <nav class="breadcrumbs">

    <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      <li class="breadcrumb-item"><a class="breadcrumb-item" href="/guides/v2.1/"><span>首页</span></a></li>

    <!-- Iteration breadcrumb item -->
    
    

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">

        
          <a property="item" typeof="WebPage" href="/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">
            <span property="name">扩展开发者最佳实践</span>
          </a>
        

        <meta property="position" content="1" />
      </li>

    

      <!-- Skip if root -->
      

      <!-- Get breadcrumb title -->
      

      <!-- SEO data -->
      

      <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">

        

          

          <span property="name">最佳编程实践</span>

        

        <meta property="position" content="2" />
      </li>

    

    </ol>

  </nav>



	

	

	<h1 class="page-heading">最佳编程实践</h1>

  


</section>

			<p>You should do your best to adhere to common programming best practices to reduce the amount of bugs and improve the quality and maintainability of your extensions.
The following list of best practices addresses commonly reported issues found in third party extensions.</p>

<h3 id="follow-a-set-of-coding-standards">Follow a set of coding standards</h3>
<p>Coding standards are a set of guidelines that describe how code should be written.
These standards define coding practices that determine the style of the code.
Whether you are a solo developer or part of a team, following a set of coding standards will help make your code consistent and maintainable.</p>

<p><a href="/guides/v2.1/coding-standards/bk-coding-standards.html">Magento’s 编码规范</a> are based on the following:</p>

<ul>
  <li><a href="http://framework.zend.com/manual/1.12/en/coding-standard.html" target="_blank">Zend Coding standards</a></li>
  <li><a href="http://www.php-fig.org/psr/psr-2/" target="_blank">PSR2</a></li>
  <li><a href="http://www.php-fig.org/psr/psr-4/" target="_blank">PSR4</a></li>
</ul>

<p>To help you stick to coding standards, we recommend using the <a href="https://github.com/squizlabs/PHP_CodeSniffer" target="_blank">PHP_CodeSniffer tool</a>.</p>

<h3 id="write-and-utilize-re-usable-code">Write and utilize re-usable code</h3>
<p>Avoid using redundant or duplicate code, which can be hard to maintain.
Instead of copying and pasting the same code throughout application, create a single class or method and reference it when needed.
As a general rule of thumb, be sure to reuse code as much as possible to save yourself the from the costs of duplication.</p>

<p>The code you write should be small, focused, and provides a generic solution.
This will let you re-use these pieces again in future development.</p>

<h3 id="design-your-code-to-be-replaceable">Design your code to be replaceable</h3>
<p>Designing and writing your code to be replaceable is just as important as making it re-usable.
Having a replaceable design means your code is modular and loosely coupled, therefore allowing easy updates and improvements in the future.</p>

<p>It is common practice to replace parts of your codebase with newer and better pieces as bugs are found or newer strategies become available.
Writing replaceable code in your codebase makes this practice easier and more efficient.</p>

<h3 id="avoid-creating-helper-classes">Avoid creating helper classes</h3>
<p>Helper or utility classes are classes filled with static methods that do not quite fit anywhere else.
These classes are considered an antipattern and go against the principles of object oriented programming.
If you have <code class="highlighter-rouge">ClassA</code> and a <code class="highlighter-rouge">ClassAHelper</code> with static functions that work on <code class="highlighter-rouge">ClassA</code>, you should consider refactoring those functions into <code class="highlighter-rouge">ClassA</code>.</p>

<p>A helper class that functions as a catch-all for random methods breaks the single responsibility principle because it is an attempt to solve multiple problems in a single class.
You should refactor your code and move those functions into the appropriate classes they work on.</p>

<h3 id="be-consistent-with-case-and-naming-conventions">Be consistent with case and naming conventions</h3>
<p>You should be consistent in your naming conventions for files, folder names, Classes, and Methods.
Following standard conventions will make your code look professional and easy to read.</p>

<p>Not following this practice is a code standards violation and impacts your extension’s readability and  maintainability.</p>

<h3 id="composition-over-inheritance">Composition over inheritance</h3>
<p><a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" target="_blank">Class inheritance</a> is the object-oriented programming concept that allows code reuse and extending of the behavior of a base class.
This was favored for Magento 1 development.</p>

<p><a href="https://en.wikipedia.org/wiki/Object_composition" target="_blank">Object composition</a> is the programming concept of combining class objects and data types to create a more complex class.
The classes and data types are used together to produce a desired functionality.</p>

<p>For Magento 2 <span term-uuid="55774db9-bf9d-40f3-83db-b10cc5ae3b68" class="glossary-term" data-toggle="popover">扩展</span> development, we encourage the use of object composition over class inheritance.
Using composition over inheritance makes your extension easier to maintain when class changes occur and update when new features need to be implemented.</p>

<h3 id="using-around-plugins">Using around plugins</h3>
<p>Avoid using <a href="/guides/v2.1/extension-dev-guide/plugins.html">around method plugins</a> when they are not required because they increase stack traces and affect performance.</p>

<p>The only use case for around method plugins is when the execution of all further plugins and original methods need termination.</p>

<p>Use after method plugins if you require arguments for replacing or altering function results.</p>

<h3 id="test-your-code">Test your code</h3>

<p>Write testable code and follow the <a href="/guides/v2.1/test/testing.html">Magento测试手册</a> to create tests for your code.
Tests help describe what your code does under different conditions and define its functionality.</p>

<p>Make sure your tests cover a variety of conditions to prevent the introduction of bugs when you add new code.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

    
  
    
    <div class="github-link">
      <a class="improve-page" href="https://github.com/magento/devdocs/blob/develop/guides/v2.1/ext-best-practices/extension-coding/common-programming-bp.md" target="_blank">
        去GitHub上编辑
      </a>
    </div>
    
  
    
    <div class="new-issue">
      <a href="https://github.com/magento/devdocs/issues/new?title=Feedback on page: /guides/v2.1/ext-best-practices/extension-coding/common-programming-bp.html" target="_blank">反馈</a>
    </div>
    
  
  </div>

	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
  <li><a href="/guides/v2.1/contributor-guide/contributing_docs.html">成为贡献者</a>
  <li><a href="https://magento.github.io/glossary/index.html?audience=developer">术语表</a></li>
  <li><a href="http://magento.com/legal/terms/privacy/">隐私政策</a></li>
  <li><a href="http://magento.com/legal/terms/">服务条款</a></li>
  <li><a href="http://magento.com/legal/licensing/">许可/商标 常见问题</a></li>
  <li><a href="/guides/v2.1/release-notes/bk-release-notes.html">版本日志</a></li>
  <li><a href="/magento-third-party.html">三方许可</a></li>
</ul>

    </div>

		<div class="copyright-date">&copy; 2018 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/assets/js/app.min.js"></script>


<script src="/common/js/devdocs.min.js"></script>




</body>
</html>

